(function(){function B(c,a){var b={};if("object"===typeof a.dataObject&&a.dataObject&&0<n.keys(a.dataObject).length)if("static"===a.scriptName){var g=d.extraData[c.hash]||[];g.push(a.dataObject);d.extraData[c.hash]=g}else b=a.dataObject;d.send(b,a.scriptName,null,c.hash,c.base)}if(!this.dimml){Array.prototype.indexOf||(Array.prototype.indexOf=function(c,a){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var b=this.length>>>0;a=+a||0;Infinity===Math.abs(a)&&(a=0);
0>a&&(a+=b,0>a&&(a=0));for(;a<b;a++)if(this[a]===c)return a;return-1});var C={},z=Array.prototype,G=z.slice,H=z.splice,D=z.forEach,d={},n={has:function(c,a){return Object.prototype.hasOwnProperty.call(c,a)}};n.keys=Object.keys||function(c){if(c!==Object(c))throw new TypeError("Invalid object");var a=[],b;for(b in c)n.has(c,b)&&a.push(b);return a};n.each=function(c,a,b){if(null!=c)if(D&&c.forEach===D)c.forEach(a,b);else if(c.length===+c.length)for(var g=0,d=c.length;g<d&&a.call(b,c[g],g,c)!==C;g++);
else{var h=n.keys(c);g=0;for(d=h.length;g<d&&a.call(b,c[h[g]],h[g],c)!==C;g++);}};n.extend=function(c){n.each(G.call(arguments,1),function(a){if(a)for(var b in a)c[b]=a[b]});return c};d._=n;d.load=function(c,a){var b=document.createElement("script");b.type="text/javascript";b.readyState?b.onreadystatechange=function(){if("loaded"==b.readyState||"complete"==b.readyState)b.onreadystatechange=null,a()}:b.onload=function(){a()};b.src=c;document.getElementsByTagName("head")[0].appendChild(b)};d.rnd4=function(){return(Math.floor(1632959*
Math.random())+46656).toString(36)};(function(){function c(a){var b=Array.prototype.slice.call(arguments,1),c,e=b.length;for(c=0;c<e;c++){var w=typeof a[b[c]];if(!/^(?:function|object|unknown)$/.test(w))return!1}return!0}function a(b,a){return function(c){a.call(d(b),c||window.event)}}function b(b,a){return function(c){if(q[b]&&q[b][a])for(var e=q[b][a],t=0,w=e.length;t<w;t++)e[t].call(this,c||window.event)}}var g=function(){if("undefined"!==typeof document.documentElement.uniqueID)return function(b){return b.uniqueID};
var b=0;return function(a){return a.__uniqueID||(a.__uniqueID="uniqueID__"+b++)}}(),d,h;(function(){var b={};d=function(a){return b[a]};h=function(a,c){b[a]=c}})();var l=c(document.documentElement,"addEventListener","removeEventListener")&&c(window,"addEventListener","removeEventListener");var p=c(document.documentElement,"attachEvent","detachEvent")&&c(window,"attachEvent","detachEvent"),r={},q={};if(l){l=function(b,a,c){b.addEventListener(a,c,!1)};var u=function(b,a){return b?"undefined"!==typeof b.addEventListener:
!1}}else p?(l=function(b,c,d){var e=g(b);h(e,b);r[e]||(r[e]={});r[e][c]||(r[e][c]=[]);d={handler:d,wrappedHandler:a(e,d)};r[e][c].push(d);b.attachEvent("on"+c,d.wrappedHandler)},u=function(b,a){return b?"undefined"!==typeof b.attachEvent:!1}):(l=function(a,c,d){var e=g(a);q[e]||(q[e]={});if(!q[e][c]){q[e][c]=[];var t=a["on"+c];t&&q[e][c].push(t);a["on"+c]=b(e,c)}q[e][c].push(d)},u=function(b,a){return b?null!==b["on"+a]:!1});this.elementHandlesEvent=u;this.addEventListener=function(b){return function(a,
c,e){if(null!==a)if(a.jquery)a.bind(c,e);else if(u(a))b(a,c,e);else if("undefined"!==typeof a.length)for(var d=0;d<a.length;d++)a[d]&&b(a[d],c,e)}}(l)}).call(d);var E=function(c,a,b,g,f){d.safe(function(){var c=null;try{c=a()}catch(l){}return c&&(c.jquery&&0<c.length||!c.jquery&&dimml.elementHandlesEvent(c)||!c.jquery&&!dimml.elementHandlesEvent(c)&&"undefined"!==c.length&&0<c.length)?(d.addEventListener(c,b,g),!0):!1})||(5E3>c?setTimeout(function(){E(Math.pow(c,1.2),a,b,g,f)},Math.round(c)):"function"===
typeof f&&(d.log("wait: "+c),f()))};d.registerEventListener=function(c,a,b,d){E(10,c,a,b,d)};(function(){var c="//cdn.dimml.io";if("object"===typeof window.dimml_options&&window.dimml_options.base)c=window.dimml_options.base;else{var a=document.getElementsByTagName("script");if(a&&0<a.length)for(var b in a)a[b].src&&a[b].src.match(/\/dimml\.js$/)&&(c=a[b].src,c=c.substring(c.indexOf(":")+1,a[b].src.length-9))}n.base=c;n.host=window.location.hostname;n.noref="object"===typeof window.dimml_options&&
window.dimml_options.noref})();d.host=function(){return n.host};d.base=function(){return n.base};var F={};d.functions=function(c){if("undefined"===typeof c||!c)return{};c=String(c);var a=F[c]||{};return F[c]=a};d.send=function(c,a,b,g,f){if(d.host()){a||(a="dynamic");var h=!(6<=a.length&&"static"===a.substring(0,6));b||(b=d.environment?d.environment:"prod");g||(g=d.sha1("static"===a?d.host():d.rnd4()));var l=[],p=0;for(k in c)null!==c[k]&&(l[p++]=k+"="+encodeURIComponent(String(c[k])));n.noref&&(l[p++]=
"dimml.concept=//"+b+"@"+d.host());f||(f=h?"function"!==typeof d.baseDynamic?d.base():d.baseDynamic():d.base());c=f+"/"+(a+"/"+g+("prod"===b?"":"-"+b))+".js";0<l.length&&(c=c+"?"+l.join("&"));d.load(c,function(){})}};d.extraData={};var A={},y={};d.event=function(c,a,b){var g=A[c];b=b||"static";"static"!==b&&(b+="/"+d.rnd4());a={dataObject:a,scriptName:b};g?B(g,a):(g=y[c]||[],g.push(a),y[c]=g)};d.addEventHash=function(c,a){"object"!==typeof a&&(a={hash:a});if(n.has(A,c))return!1;A[c]=a;y[c]&&(n.each(y[c],
function(b){B(a,b)}),delete y[c]);return!0};var v=function(c,a){if("object"===typeof c)for(var b=n.keys(c),d=n.keys(a),f=0,h=b.length;f<h;f++)if(c[b[f]]){if(!v(c[b[f]],a[b[f]]))return!1}else{if(0>d.indexOf(b[f]))return!1}else if("string"===typeof c)if(c&&0>c.indexOf("*")){if(c!=a)return!1}else if(!(new RegExp((c+"").replace(RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&").replace(/\\\*/g,".*").replace(/\\\?/g,"."),"g")).test(String(a)))return!1;return!0};d.match=function(){for(var c=0;c<arguments.length;c++){var a=
arguments[c];if("function"!==typeof a||a()){var b;if(b="string"===typeof a){if("*"==a)b=!0;else{b=new d.uri(a);var g=new d.uri(String(window.location));b=b.protocol()&&!v(b.protocol(),g.protocol())||b.host()&&!v(b.host(),g.host())||b.path()&&!v(b.path(),g.path())||b.query()&&!v(b.query(),g.query())||b.fragment()&&!v(b.fragment(),g.fragment())?!1:!0}b=!b}if(b||"object"===typeof a&&a instanceof RegExp&&!a.test(location.href))return!1}else return!1}return!0};d.ws=function(){for(var c="https:"===location.protocol?
"wss:":"ws:",a=d.environment?d.environment:"prod",b,g,f=0;f<arguments.length;f++){var h=arguments[f];"function"===typeof h?g=h:"object"===typeof h&&(b=h)}b&&b.hash&&b.base?(c+=b.base+"/websocket/"+b.hash,"prod"!==a&&(c+="-"+a),c+=".ws"):(b="function"===typeof d.baseDynamic?d.baseDynamic():d.base(),c+=b+"/websocket/?dimml.concept=//"+a+"@"+d.host());c=new WebSocket(c);g&&(c.onmessage=function(a){g(a.data)});return c};d.safe=function(c){try{return c()}catch(a){d.error(a)}};d.ready=function(){function c(a){if(!q){if(!h.body)return d(c);
for(q=!0;a=u.shift();)d(a)}}function a(a){if(p||"load"===a.type||"complete"===h.readyState)b(),c()}function b(){p?(h.removeEventListener("DOMContentLoaded",a,!1),f.removeEventListener("load",a,!1)):(h.detachEvent("onreadystatechange",a),f.detachEvent("onload",a))}function d(a,b){setTimeout(a,0<=+b?b:1)}var f=window,h=f.document,l=h.documentElement,p="addEventListener"in h,r=!1,q=!1,u=[];if("complete"===h.readyState)d(c);else if(p)h.addEventListener("DOMContentLoaded",a,!1),f.addEventListener("load",
a,!1);else{h.attachEvent("onreadystatechange",a);f.attachEvent("onload",a);try{r=null==f.frameElement&&l}catch(w){}r&&r.doScroll&&function t(){if(!q){try{r.doScroll("left")}catch(I){return d(t,50)}b();c()}}()}return function(a){q?d(a):u.push(a)}}();d.extend=function(){return n.extend.apply(this,H.call(arguments,0,0,d))};d.cookies={get:function(c){return(tmp=document.cookie.match("(^|; )"+c+"=([^;]*)"))&&tmp[2]?decodeURIComponent(tmp[2])||null:null},set:function(c,a,b,g,f,h){cookie=[c+"="+encodeURIComponent(a)];
b&&cookie.push("expires="+d.cookies.hoursToExpireDate(b));"undefined"!==typeof g&&(cookie.push("path="+(g?g:"/")),f||(f=window.location.hostname),0<f.indexOf(".")&&cookie.push("domain="+f));h&&cookie.push("secure");return document.cookie=cookie.join("; ")},unset:function(c,a,b){d.cookies.get(c)&&d.cookies.set(c,"",-720,a,b)},hoursToExpireDate:function(c){if("NaN"==parseInt(c))return"";now=new Date;now.setTime(now.getTime()+36E5*parseInt(c));return now.toGMTString()},test:function(){d.cookies.set("b49f729efde9b2578ea9f00563d06e57",
"true");return"true"==d.cookies.get("b49f729efde9b2578ea9f00563d06e57")?(d.cookies.unset("b49f729efde9b2578ea9f00563d06e57"),!0):!1}};(function(){function c(a){this.message=a}c.prototype=Error();c.prototype.name="InvalidCharacterError";this.btoa||(this.btoa=function(a){for(var b,d,f=0,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";a.charAt(f|0)||(h="=",f%1);l+=h.charAt(63&b>>8-f%1*8)){d=a.charCodeAt(f+=.75);if(255<d)throw new c("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");
b=b<<8|d}return l});this.atob||(this.atob=function(a){a=a.replace(/=+$/,"");if(1==a.length%4)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var b=0,d,f,h=0,l="";f=a.charAt(h++);~f&&(d=b%4?64*d+f:f,b++%4)?l+=String.fromCharCode(255&d>>(-2*b&6)):0)f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(f);return l})})();(function(){var c={}.hasOwnProperty;var a="protocol username password host port path query fragment".split(" ");var b=function(a){var b=
{};if(!a)return b;var c=a.indexOf(":");0>c&&(c=0);"//"!==a.substring(0,2)&&0<c&&(b.protocol=a.substring(0,c++));if("//"===a.substring(c,c+2)){var d=a.slice(c+2).search(/[\/\?#]/);0>d&&(d=a.length-c-2);var e=a.slice(c+2,c+2+d);0<=e.indexOf("@")&&(b.username=decodeURIComponent(e.substring(0,e.indexOf("@"))),e=e.substring(e.indexOf("@")+1));0<=e.indexOf(":")&&(b.port=Number(e.substring(e.indexOf(":")+1)),e=e.substring(0,e.indexOf(":")));b.host=decodeURIComponent(e);c=c+2+d}c<a.length&&"?"!==a.substring(c,
c+1)&&"#"!==a.substring(c,c+1)&&(d=a.slice(c).search(/[\?#]/),0>d&&(d=a.length-c),b.path=decodeURIComponent(a.substring(c,c+d)),c+=d);"?"===a.substring(c,c+1)&&(d=a.indexOf("#",c),0>d&&(d=a.length),b.query=a.substring(c+1,d),c=d);"#"===a.substring(c,c+1)&&(b.fragment=decodeURIComponent(a.substring(c+1)));return b};var g=function(a){return"[object Array]"===Object.prototype.toString.call(a)};var f=function(a){return"[object Object]"===Object.prototype.toString.call(a)&&"object"===typeof a};var h=function(a,
b){var d;for(d in b)if(c.call(b,d)){var g=b[d];a[d]=g}};var l=function(a){var c;var b=/\[([^\]]*)\]/;var d={};var e=a.split("&");a=0;for(c=e.length;a<c;a++){var m=e[a];var h=m.split("=");m=h[0];var x=h[1];h=b.exec(m);if(x)try{x=decodeURIComponent(x)}catch(J){}h?(h[1]&&!f(d[m])?d[m]={}:g(d[m])||(d[m]=[]),h[1]?d[m][h[1]]=x:d[m].push(x)):d[m]=x}return d};var p=function(b,d){var h,w;if(!g(d)&&!f(d))return""+b+"="+encodeURIComponent(d);a=[];if(g(d)){var e=0;for(w=d.length;e<w;e++){var m=d[e];a.push(""+
b+"[]="+encodeURIComponent(m))}}if(f(d))for(h in d)c.call(d,h)&&(m=d[h],a.push(""+b+"["+h+"]="+encodeURIComponent(m)));return a.join("&")};var r="/";"undefined"!==typeof window&&null!==window&&window.location.host&&(r=window.location.href);var q=function(){function a(a){this.uri=null!=a?a:r;this.parts=b(this.uri);this.parts.query=this.parts.query?l(this.parts.query):{}}a.prototype.retrieve=function(a,c){null==c&&(c=null);if(null===c)return this.parts[a];this.parts[a]=c;return this};a.prototype.protocol=
function(a){return this.retrieve("protocol",a)};a.prototype.username=function(a){return this.retrieve("username",a)};a.prototype.password=function(a){return this.retrieve("password",a)};a.prototype.host=function(a){return this.retrieve("host",a)};a.prototype.port=function(a){return this.retrieve("port",a)};a.prototype.path=function(a){return this.retrieve("path",a)};a.prototype.query=function(a,c){return a&&"string"===typeof a?c?(this.parts.query[a]=c,this):this.parts.query[a]:f(a)?(h(this.parts.query,
a),this):this.parts.query};a.prototype.fragment=function(a){return this.retrieve("fragment",a)};a.prototype.toString=function(){var a;var b="";this.parts.protocol&&this.parts.host&&(b+=""+this.parts.protocol+"://",this.parts.username&&this.parts.password?b+=""+this.parts.username+":"+this.parts.password+"@":this.parts.username&&(b+=""+this.parts.username+"@"),b+=this.parts.host,this.parts.port&&(b+=":"+this.parts.port));b+=this.parts.path;var d=[];var e=this.parts.query;for(a in e)if(c.call(e,a)){var m=
e[a];d.push(p(a,m))}0<d.length&&(b+="?"+d.join("&"));this.parts.fragment&&(b+="#"+this.parts.fragment);return b};return a}();d.uri=q})();(function(){var c=c||function(a,c){var b={},d=b.lib={},h=function(){},l=d.Base={extend:function(a){h.prototype=this;var c=new h;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&
(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},p=d.WordArray=l.extend({init:function(a,b){a=this.words=a||[];this.sigBytes=b!=c?b:4*a.length},toString:function(a){return(a||q).stringify(this)},concat:function(a){var c=this.words,b=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)c[d+e>>>2]|=(b[e>>>2]>>>24-e%4*8&255)<<24-(d+e)%4*8;else if(65535<b.length)for(e=0;e<a;e+=4)c[d+e>>>2]=b[e>>>
2];else c.push.apply(c,b);this.sigBytes+=a;return this},clamp:function(){var c=this.words,b=this.sigBytes;c[b>>>2]&=4294967295<<32-b%4*8;c.length=a.ceil(b/4)},clone:function(){var a=l.clone.call(this);a.words=this.words.slice(0);return a},random:function(c){for(var b=[],d=0;d<c;d+=4)b.push(4294967296*a.random()|0);return new p.init(b,c)}}),r=b.enc={},q=r.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],d=0;d<a;d++){var e=c[d>>>2]>>>24-d%4*8&255;b.push((e>>>4).toString(16));b.push((e&
15).toString(16))}return b.join("")},parse:function(a){for(var c=a.length,b=[],d=0;d<c;d+=2)b[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new p.init(b,c/2)}},u=r.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],d=0;d<a;d++)b.push(String.fromCharCode(c[d>>>2]>>>24-d%4*8&255));return b.join("")},parse:function(a){for(var c=a.length,b=[],d=0;d<c;d++)b[d>>>2]|=(a.charCodeAt(d)&255)<<24-d%4*8;return new p.init(b,c)}},n=r.Utf8={stringify:function(a){try{return decodeURIComponent(escape(u.stringify(a)))}catch(m){throw Error("Malformed UTF-8 data");
}},parse:function(a){return u.parse(unescape(encodeURIComponent(a)))}},t=d.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new p.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=n.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(c){var b=this._data,d=b.words,e=b.sigBytes,g=this.blockSize,h=e/(4*g);h=c?a.ceil(h):a.max((h|0)-this._minBufferSize,0);c=h*g;e=a.min(4*c,e);if(c){for(var f=0;f<c;f+=g)this._doProcessBlock(d,f);f=d.splice(0,c);b.sigBytes-=
e}return new p.init(f,e)},clone:function(){var a=l.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=t.extend({cfg:l.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){t.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,b){return(new a.init(b)).finalize(c)}},_createHmacHelper:function(a){return function(c,
b){return(new v.HMAC.init(a,b)).finalize(c)}}});var v=b.algo={};return b}(Math);(function(){var a=c,b=a.lib,d=b.WordArray,f=b.Hasher,h=[];b=a.algo.SHA1=f.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,c){for(var b=this._hash.words,d=b[0],g=b[1],f=b[2],l=b[3],p=b[4],e=0;80>e;e++){if(16>e)h[e]=a[c+e]|0;else{var m=h[e-3]^h[e-8]^h[e-14]^h[e-16];h[e]=m<<1|m>>>31}m=(d<<5|d>>>27)+p+h[e];m=20>e?m+((g&f|~g&l)+1518500249):
40>e?m+((g^f^l)+1859775393):60>e?m+((g&f|g&l|f&l)-1894007588):m+((g^f^l)-899497514);p=l;l=f;f=g<<30|g>>>2;g=d;d=m}b[0]=b[0]+d|0;b[1]=b[1]+g|0;b[2]=b[2]+f|0;b[3]=b[3]+l|0;b[4]=b[4]+p|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32;b[(d+64>>>9<<4)+14]=Math.floor(c/4294967296);b[(d+64>>>9<<4)+15]=c;a.sigBytes=4*b.length;this._process();return this._hash},clone:function(){var a=f.clone.call(this);a._hash=this._hash.clone();return a}});a.SHA1=
f._createHelper(b);a.HmacSHA1=f._createHmacHelper(b)})();d.sha1=function(a){return c.SHA1(a).toString()}})();(function(){var c=function(a){setTimeout(function(){throw"DimML caught exception (missing console): "+a;},0)},a=function(a,b){if("function"===typeof a)return function(){a.apply(b,arguments)};if("object"===typeof a)return function(b){a(b)}},b=window.console||{};d.log=b.log?a(b.log,b):c;d.debug=b.debug?a(b.debug,b):b.log?d.log:c;d.info=b.info?a(b.info,b):b.log?d.log:c;d.warn=b.warn?a(b.warn,
b):b.log?d.log:c;d.error=b.error?a(b.error,b):b.log?d.log:c})();d.reload=function(){d.send({},"static")};(function(){var c=new d.uri(window.location.href),a=c.query("dimml.concept"),b="",g=null;"undefined"!==typeof a&&a&&(a=new d.uri(a),b=a.username(),a.host()&&(g=d.sha1(a.host())));b||(b=c.query("dimml"),"undefined"!==typeof b&&b?d.cookies.set("dimml",b,null,"/"):(b=d.cookies.get("dimml"),"undefined"!==typeof b&&b||(b="prod")));"prod"!=b&&d.info("DimML development mode: "+b);d.environment=b;d.send({},
"static",b,g)})();this.dimml=d}}).call(this);